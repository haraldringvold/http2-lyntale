
<!DOCTYPE html>
<html>
<head>
  <title>HTTP/2</title>
  <link href="node_modules/remark-bekk/dist/bekk.css" type="text/css" rel="stylesheet">
  <script src="node_modules/remark-bekk/vendor/remark-0.11.0.min.js" type="text/javascript"></script>
</head>
<body>
<textarea id="source">

  class: front-page

  # HTTP/2

  ## En lynkjapp introduksjon

  Lyntalefagdag

  Harald Ringvold

  04/09/2015

  ---

  # Hva er HTTP/2?
  To standarder
  - Hypertext Transfer Protocol version 2 - RFC7540
  - HPACK - Header Compression for HTTP/2 - RFC7541
  - Endrer ikke på semantikken i HTTP, bare måten det transporteres på

  ---

  class: middle center

  # NYTT I HTTP/2

  ---

  # Binary framing layer (binært rammelag)
    - Terminologi
        - Streams
        - Message == request eller response
        - Frame - minste kommunikasjonsenhet

  ---

  background-image: url(images/binaryframinglayer.png)

  ---

  background-image: url(images/streammessageframe.png)

  ---
  # Binary framing layer (binært rammelag)
  - Rammene kan komme i forskjellig rekkefølge
  - Flette rammer
  - Multiplexing
    - HTTP/1 må man ha flere TCP koblinger for parallell lasting
      - Nettleserne har begrensning på 6 samtidige koblinger

  ---

  # En enkel kobling
  - De fleste HTTP overføringene er "short and bursty", mens TPC er optimalisert for langlevde store dataoverføringer.
  - En kobling gir bedre utnyttelse av hver TCP kobling
  - Ganske mye mindre protokoll overhead
  - Spesielt bra ved HTTPS hvor handshakes er dyre

  ---

  # Prioritization
    - Uttrykke at man ønsker noen ressurser før andre
    - Uttrykker preferanse, ikke krav
    - De viktigste elementene for å få rendret siden: html filen og css viktigst, bildene ikke så viktige.

  ---

  # Flow control
  - For å forhindre at mottaker blir overbelastet
  - Stoppe og gjennoppta
  - Få litt av et bilde, stoppe, laste andre ting, laste resten av bildet til slutt
  - Hopp-til-hopp, ikke ende-til-ende

  ---

  #Server push
  - HTTP/1: 1-til-1 req/resp.
  - HTTP/2: kan sende filene den vet du trenger
    - Eks: GET about.html: send css, javascript, bilder m.m.
  - Etterhvert: pushe cache invalidering

  ---

  # HPACK
    - I HTTP/1 kan man komprimere innholdet, men headere er alltid ukomprimerte
    - Enkelte headere endrer seg så og si aldri, men vi sender det med på hvert request.
    - Det finnes eksempel på sider som på en sidelasting genererte 1mb(!) trafikk med bare ukomprimerte headere.
    - Huffman-koding med statisk dictionary.

  ---

  background-image: url(images/hpack.png)

  # HPACK

  ---

  class: middle center

  # Hvordan påvirker det oss?

  ---

  #Hva med HTTP/1.x da?
    - Vil være rundt i alle fall ti år til
    - Vil etter hvert bli mer nedprioritering av HTTP/1 (ref. IE) til fordel for HTTP/2 optimalisering
  - Støtte
    - Oppgradering (TSL og det)

  ---

  # Applikasjonsutvilking
    - Sammensetning av filer
    - Domain sharding
    - Sprites (sammensetning av bilder)

  ---

  # Ressurser
  - https://changelog.com/161/
  - HTTP/2 in one slide: https://docs.google.com/presentation/d/1r7QXGYOLCh4fcUq0jDdDwKJWNqWK1o4xMtYpKZCJYjM/present?slide=id.gfd0e3427_2_119
  - http://chimera.labs.oreilly.com/books/1230000000545/ch12.html
  - https://www.nginx.com/blog/early-alpha-patch-http2/
  - http://caniuse.com/#feat=http2
  - https://http2.github.io/faq/
  - http://stackoverflow.com/questions/25221954/spdy-head-of-line-blocking
  - http://www.slideshare.net/heavybit/heavybit-presents-ilya-grigorik-on/11

  ---

  class: center middle bekk-top

  # TAKK!
  Harald Ringvold


</textarea>
<script type="text/javascript">
  var slideshow = remark.create({
    ratio: '16:9',
    highlightStyle: 'monokai'
  });
</script>
</body>
</html>